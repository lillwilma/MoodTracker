(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const d=document.getElementById("mood-select"),I=document.getElementById("save-btn"),m=document.getElementById("mood-history"),u=document.getElementById("water"),y=document.getElementById("activity"),f=document.getElementById("sleep"),p=document.getElementById("note"),v=document.getElementById("happy-count"),g=document.getElementById("avg-water"),h=document.getElementById("top-activity");let a=JSON.parse(localStorage.getItem("moodLogs"))||[];function i(){m.innerHTML="";let o=0,n=0,s=0,c={};if(a.forEach(e=>{e.mood==="Glad"&&o++,e.water&&(n+=parseInt(e.water),s++),e.activity&&(c[e.activity]=(c[e.activity]||0)+1)}),v&&g&&h){v.textContent=o;const e=s>0?(n/s).toFixed(1):0;g.textContent=e;let t="–",r=0;for(const[E,l]of Object.entries(c))l>r&&(r=l,t=E);h.textContent=t}a.forEach(e=>{const t=document.createElement("li");t.innerHTML=`
      <strong>${e.date}</strong><br />
      <i class="bx bx-happy"></i> Humör: ${e.mood}<br />
      <i class="bx bx-droplet"></i> Vatten: ${e.water||"–"} glas<br />
      <i class="bx bx-run"></i> Aktivitet: ${e.activity||"–"}<br />
      <i class="bx bx-moon"></i> Sov: ${e.sleep||"–"}<br />
      <i class="bx bx-note"></i> Anteckning: ${e.note||"–"}
    `,m.appendChild(t)})}I.addEventListener("click",()=>{const o=d.value,n=u.value,s=y.value,c=f.value,e=p.value;if(o===""){alert("Välj ett humör först!");return}const r={date:new Date().toLocaleDateString(),mood:o,water:n,activity:s,sleep:c,note:e};a.push(r),localStorage.setItem("moodLogs",JSON.stringify(a)),i(),d.value="",u.value="",y.value="",f.value="",p.value=""});const L=document.getElementById("clear-btn");L.addEventListener("click",()=>{a=[],localStorage.removeItem("moodLogs"),i()});const x=document.querySelectorAll("#theme-buttons button");function b(o){document.body.className="",document.body.classList.add(`theme-${o}`),localStorage.setItem("theme",o)}x.forEach(o=>{o.addEventListener("click",()=>{const n=o.dataset.theme;b(n)})});const B=localStorage.getItem("theme")||"pink";b(B);i();
